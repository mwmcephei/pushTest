<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Page Title</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="">
<style>
</style>
<script src=""></script>
<body>



<div class="">
 <button onclick="subscribe()">Subscribe</button>

</div>

<script>
    addEventListener('load', async () =>{
        let sw = await navigator.serviceWorker.register('./sw.js')
        console.log(sw)
    })

    async function subscribe() {
        let sw = await navigator.serviceWorker.ready
        let push = await sw.pushManager.subscribe({
            userVisibleOnly: true,
            applicationServerKey: "BJiV7ZcIJnccbe1NuWri9EzXu6qCq3Zr7PbWB"
        })
        console.log(JSON.stringify(push))
    }

</script>

</body>
</html>